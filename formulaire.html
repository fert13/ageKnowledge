<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de Choix du Jeu</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />

</head>
    
</head>
<body>
    <div class="wrapper">
        <div class="bos">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>

        </div>
    </div>
    <div id="introPage">
        <div class="wrapper">
            <div class="bos">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
    
            </div>
        </div>
        <div class="intro-content">
            <img class="logo1" src="Assets/logo.png">
             <h1 class="animate__animated animate__fadeInRight">Age of Knowledge</h1>
        </div>
        <button onclick="startGame()" class="bouton">Commencer</button>
    </div>

    <div id="formulaire">
        <div class="container">
            <div class="form">
                <h2>Choisir le mode de jeu</h2>
                <div class="box">
                    <label for="numPlayers">Nombre de joueurs :</label>
                    <select id="numPlayers" name="numPlayers">
                        <option value="1">1 Joueur</option>
                        <option value="2">2 Joueurs</option>
                    </select>
                </div>
    
                <div id="playerNames">
                    <div class="box" id="player1Name">
                        <input type="text" id="player1" placeholder="Nom du joueur 1" />
                    </div>
                    <div class="box" id="player2Name" style="display: none;">
                        <input type="text" id="player2" placeholder="Nom du joueur 2" />
                    </div>
                </div>

                <div class="box">
                    <label for="difficulty">Difficulté :</label>
                    <select id="difficulty" name="difficulty">
                        <option value="facile">Facile</option>
                        <option value="difficile">Difficile</option>
                    </select>
                </div>
    
                <div class="box">
                    
                    <button type="submit" id="startGameBtn">Commencer le jeu</button>
                </div>
            </div>
        </div>
    </div>
    <div id="gameRulesModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeModalBtn">&times;</span>
            <h3>Règles du Jeu</h3>
            <p>Voici les règles du jeu :</p>
            <ul>
                <li>Règle 1 : Chaque joueur a deux jetons(pions), il doit les gérer de la base au centre du plateau.</li>
                <li>Règle 2 : Les joueurs jouent à tour de rôle dans le sens des aiguilles d'une montre. À son tour, un joueur lance un dé puis pioche une carte question. S'il répond correctement à la question, il peut avancer l'un de ses jetons du nombre obtenu par le dé. Vient ensuite le tour du joueur suivant.</li>
                <li>Règle 3 : Si le joueur répond correctement, il se déplace du double du nombre obtenu, sinon il ne peut pas se déplacer.</li>
                <li>Règle 4 : Si le joueur répond correctement, il avance selon le nombre obtenu, sinon il recule de 4 cases.</li>
                <li>Règle 5 : Si le joueur répond correctement, il avance d'une case en plus du nombre obtenu, sinon il recule d'une case.</li>
            </ul>
            <p>Bonne chance et amusez-vous bien !</p><br>
            <button id="okBtn">OK</button> 
        </div>
    </div>
    <script>
        //  afficher les champs de noms 
        document.getElementById('numPlayers').addEventListener('change', function () {
            var numPlayers = this.value;
            var player1Name = document.getElementById('player1Name');
            var player2Name = document.getElementById('player2Name');
    
            // Afficher ou masquer les champs de noms 
            if (numPlayers == '1') {
                player1Name.style.display = 'block';
                player2Name.style.display = 'none';
            } else {
                player1Name.style.display = 'block';
                player2Name.style.display = 'block';
            }
        });
    
        // Initialisation de l'affichage en fonction du nombre de joueurs choisi par défaut
        document.getElementById('numPlayers').dispatchEvent(new Event('change'));
    </script>
    
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script   src="./initial.js"></script>
<script>
    //  (masquer l'écran d'accueil et afficher la page du jeu)
    function startGame() {
        const introPage = document.getElementById('introPage');
        const formulaire = document.getElementById('formulaire');
        const gameRulesModal = document.getElementById('gameRulesModal');
        // Animer la disparition de l'écran d'accueil
        introPage.classList.add('animate__fadeOut');
        setTimeout(() => {
            introPage.style.display = 'none';  // Cacher l'écran d'accueil après l'animation
            formulaire.style.display = 'block';  
           // Afficher la page du jeu
        }, 1000); // Durée de l'animation (1 seconde)
    }
    function showGameRules() {
            const gameRulesModal = document.getElementById('gameRulesModal');
            gameRulesModal.style.display = 'block'; // Afficher la modale
        }

        // Fonction pour vérifier que tous les champs sont remplis 
        document.getElementById('startGameBtn').addEventListener('click', function(e) {
            e.preventDefault(); // Empêcher le formulaire de se soumettre (si c'est un formulaire HTML classique)

            // Récupérer les champs de formulaire
            const player1 = document.getElementById('player1').value;
            const player2 = document.getElementById('player2') ? document.getElementById('player2').value : null;
            const numPlayers = document.getElementById('numPlayers').value;
            const difficulty = document.getElementById('difficulty').value;

            // Vérifier si les champs obligatoires sont remplis
            if (numPlayers == '1' && player1 !== "" && difficulty !== "") {
                showGameRules(); // Afficher la modale des règles
            } else if (numPlayers == '2' && player1 !== "" && player2 !== "" && difficulty !== "") {
                showGameRules(); // Afficher la modale des règles
            } else {
                alert("Veuillez remplir tous les champs !"); // Si les champs sont incomplets, afficher une alerte
            }
        });

        // Fonction pour fermer la modale
        const closeModalBtn = document.getElementById('closeModalBtn');
        closeModalBtn.addEventListener('click', function() {
            const gameRulesModal = document.getElementById('gameRulesModal');
            gameRulesModal.style.display = 'none';
        });

        // Fonction pour rediriger vers une autre page 
        const okBtn = document.getElementById('okBtn');
        okBtn.addEventListener('click', function() {
            
            window.location.href = 'animation.html'; 
        });
</script>

</body>
</html>
